<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Student Registration System</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>
<body>

  <!-- ===== HEADER ===== -->
  <header class="header">
    <div class="header-inner">
      <div class="logo">
        <div class="logo-icon"><i class="fas fa-graduation-cap"></i></div>
        <div>
          <span class="logo-title">EduRegister</span>
          <span class="logo-sub">Student Management System</span>
        </div>
      </div>
      <nav class="nav-tabs">
        <button class="nav-btn active" id="tab-form" onclick="showTab('form')">
          <i class="fas fa-user-plus"></i> Register
        </button>
        <button class="nav-btn" id="tab-db" onclick="showTab('db')">
          <i class="fas fa-database"></i> Database
          <span class="badge" id="student-count">0</span>
        </button>
      </nav>
    </div>
  </header>

  <!-- ===== MAIN ===== -->
  <main class="main-content">

    <!-- ======= REGISTRATION FORM ======= -->
    <section id="section-form" class="section active">
      <div class="form-card">
        <div class="form-header">
          <h2><i class="fas fa-user-pen"></i> Student Registration</h2>
          <p>Fill in the details below to register a student</p>
        </div>

        <form id="registrationForm" novalidate>
          <input type="hidden" id="editId" />

          <!-- Row 1 -->
          <div class="form-grid two-col">
            <div class="form-group">
              <label for="firstName"><i class="fas fa-user"></i> First Name <span class="req">*</span></label>
              <input type="text" id="firstName" placeholder="Enter first name" />
              <span class="error" id="err-firstName"></span>
            </div>
            <div class="form-group">
              <label for="lastName"><i class="fas fa-user"></i> Last Name <span class="req">*</span></label>
              <input type="text" id="lastName" placeholder="Enter last name" />
              <span class="error" id="err-lastName"></span>
            </div>
          </div>

          <!-- Row 2 -->
          <div class="form-grid two-col">
            <div class="form-group">
              <label for="email"><i class="fas fa-envelope"></i> Email Address <span class="req">*</span></label>
              <input type="email" id="email" placeholder="student@email.com" />
              <span class="error" id="err-email"></span>
            </div>
            <div class="form-group">
              <label for="phone"><i class="fas fa-phone"></i> Phone Number <span class="req">*</span></label>
              <input type="tel" id="phone" placeholder="+91 XXXXX XXXXX" maxlength="13" />
              <span class="error" id="err-phone"></span>
            </div>
          </div>

          <!-- Row 3 -->
          <div class="form-grid two-col">
            <div class="form-group">
              <label for="dob"><i class="fas fa-calendar"></i> Date of Birth <span class="req">*</span></label>
              <input type="date" id="dob" />
              <span class="error" id="err-dob"></span>
            </div>
            <div class="form-group">
              <label for="gender"><i class="fas fa-venus-mars"></i> Gender <span class="req">*</span></label>
              <select id="gender">
                <option value="">-- Select Gender --</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
              </select>
              <span class="error" id="err-gender"></span>
            </div>
          </div>

          <!-- Row 4 -->
          <div class="form-grid two-col">
            <div class="form-group">
              <label for="course"><i class="fas fa-book"></i> Course <span class="req">*</span></label>
              <select id="course">
                <option value="">-- Select Course --</option>
                <option value="Computer Science">Computer Science</option>
                <option value="Information Technology">Information Technology</option>
                <option value="Data Science">Data Science</option>
                <option value="Artificial Intelligence">Artificial Intelligence</option>
                <option value="Cyber Security">Cyber Security</option>
                <option value="Web Development">Web Development</option>
                <option value="Electronics">Electronics</option>
                <option value="Mechanical Engineering">Mechanical Engineering</option>
                <option value="Civil Engineering">Civil Engineering</option>
                <option value="Business Administration">Business Administration</option>
              </select>
              <span class="error" id="err-course"></span>
            </div>
            <div class="form-group">
              <label for="year"><i class="fas fa-layer-group"></i> Year / Semester <span class="req">*</span></label>
              <select id="year">
                <option value="">-- Select Year --</option>
                <option value="1st Year">1st Year</option>
                <option value="2nd Year">2nd Year</option>
                <option value="3rd Year">3rd Year</option>
                <option value="4th Year">4th Year</option>
              </select>
              <span class="error" id="err-year"></span>
            </div>
          </div>

          <!-- Row 5 -->
          <div class="form-grid two-col">
            <div class="form-group">
              <label for="rollNo"><i class="fas fa-id-badge"></i> Roll Number <span class="req">*</span></label>
              <input type="text" id="rollNo" placeholder="e.g. CS2024001" />
              <span class="error" id="err-rollNo"></span>
            </div>
            <div class="form-group">
              <label for="admissionDate"><i class="fas fa-calendar-check"></i> Admission Date</label>
              <input type="date" id="admissionDate" />
            </div>
          </div>

          <!-- Row 6 - Address -->
          <div class="form-grid one-col">
            <div class="form-group">
              <label for="address"><i class="fas fa-map-marker-alt"></i> Address</label>
              <textarea id="address" rows="3" placeholder="Enter full address..."></textarea>
            </div>
          </div>

          <!-- Row 7 - Guardian -->
          <div class="form-grid two-col">
            <div class="form-group">
              <label for="guardianName"><i class="fas fa-user-shield"></i> Guardian Name</label>
              <input type="text" id="guardianName" placeholder="Parent / Guardian name" />
            </div>
            <div class="form-group">
              <label for="guardianPhone"><i class="fas fa-phone-volume"></i> Guardian Phone</label>
              <input type="tel" id="guardianPhone" placeholder="+91 XXXXX XXXXX" maxlength="13" />
            </div>
          </div>

          <!-- Buttons -->
          <div class="form-actions">
            <button type="button" class="btn btn-secondary" onclick="resetForm()">
              <i class="fas fa-rotate-left"></i> Reset
            </button>
            <button type="submit" class="btn btn-primary" id="submitBtn">
              <i class="fas fa-user-plus"></i> Register Student
            </button>
          </div>
        </form>
      </div>
    </section>

    <!-- ======= DATABASE VIEW ======= -->
    <section id="section-db" class="section">
      <div class="db-card">
        <div class="db-header">
          <div>
            <h2><i class="fas fa-database"></i> Student Database</h2>
            <p>All registered students â€” <span id="total-label">0</span> record(s) found</p>
          </div>
          <div class="db-actions">
            <div class="search-box">
              <i class="fas fa-search"></i>
              <input type="text" id="searchInput" placeholder="Search students..." oninput="renderTable()" />
            </div>
            <button class="btn btn-danger-outline" onclick="clearAllData()">
              <i class="fas fa-trash"></i> Clear All
            </button>
            <button class="btn btn-success" onclick="exportCSV()">
              <i class="fas fa-file-csv"></i> Export CSV
            </button>
          </div>
        </div>

        <div class="table-wrapper">
          <table id="studentTable">
            <thead>
              <tr>
                <th>#</th>
                <th>Name</th>
                <th>Roll No.</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Course</th>
                <th>Year</th>
                <th>Gender</th>
                <th>Registered On</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="tableBody">
              <!-- Rows inserted by JS -->
            </tbody>
          </table>
          <div id="empty-state" class="empty-state hidden">
            <i class="fas fa-users-slash"></i>
            <p>No students registered yet.</p>
            <button class="btn btn-primary" onclick="showTab('form')">Register First Student</button>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- ======= TOAST NOTIFICATION ======= -->
  <div id="toast" class="toast"></div>

  <!-- ======= MODAL - Student Detail ======= -->
  <div id="modal-overlay" class="modal-overlay hidden" onclick="closeModal(event)">
    <div class="modal-box">
      <button class="modal-close" onclick="closeModal()"><i class="fas fa-xmark"></i></button>
      <h3 id="modal-title">Student Details</h3>
      <div id="modal-body" class="modal-body"></div>
    </div>
  </div>

  <!-- ======= DELETE CONFIRM MODAL ======= -->
  <div id="confirm-overlay" class="modal-overlay hidden">
    <div class="modal-box confirm-box">
      <div class="confirm-icon"><i class="fas fa-triangle-exclamation"></i></div>
      <h3>Delete Student?</h3>
      <p>This action cannot be undone. The student record will be permanently removed.</p>
      <div class="confirm-actions">
        <button class="btn btn-secondary" onclick="closeConfirm()">Cancel</button>
        <button class="btn btn-danger" id="confirmDeleteBtn">Delete</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
